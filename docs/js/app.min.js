(()=>{"use strict";$((function(){"undefined"!=typeof Fancybox&&null!==Fancybox&&Fancybox.bind("[data-fancybox]",{dragToClose:!1,closeButton:!1});const t={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return t.Android()||t.BlackBerry()||t.iOS()||t.Opera()||t.Windows()}};function e(){t.any()||window.innerWidth<768?$("body").removeClass("_pc").addClass("_touch"):$("body").removeClass("_touch").addClass("_pc")}function a(){$(".cart__orders-list").each((function(){0==$(this).find(".cart__order").length&&$(this).prev().remove()})),0==$(".cart__order").length&&$(".cart__orders").html('<div class="cart__orders-empty">Корзина пуста</div>')}e(),$(window).on("resize",(()=>{e()})),$(".tabs").each((function(){$(this).find(".tab-btn").each((function(t){0==t&&$(this).addClass("active")})),$(this).find(".tab-content").each((function(t){0==t?$(this).addClass("active"):$(this).removeClass("active")}))})),$("select").each((function(){var t=$(this),e=$(this).children("option").length;t.addClass("select-hidden"),t.wrap('<div class="select"></div>'),t.after('<div class="select-styled"></div>');var a=t.next("div.select-styled");a.text(t.children("option").eq(0).text());for(var s=$("<ul />",{class:"select-options"}).insertAfter(a),n=0;n<e;n++)$("<li />",{text:t.children("option").eq(n).text(),"aria-label":t.children("option").eq(n).val()}).appendTo(s);var i=s.children("li");$(i[0]).addClass("active"),i.on("click",(function(e){e.stopPropagation(),a.text($(this).text()).removeClass("active").addClass("selected"),t.val($(this).attr("aria-label")),$(this).addClass("active").siblings().removeClass("active"),s.hide()})),a.on("click",(function(t){t.stopPropagation(),$("div.select-styled.active").not(this).each((function(){$(this).removeClass("active").next("ul.select-options").hide()})),$(this).toggleClass("active").next("ul.select-options").toggle()})),$(document).on("click",(function(){a.removeClass("active"),s.hide()}))})),$(document).on("click",(t=>{let e=$(t.target);if((e.hasClass("catalog__btn")||!e[0].closest(".catalog")&&$(".catalog__btn").hasClass("active"))&&($(".catalog__btn").toggleClass("active"),$(".catalog__body").fadeToggle()),e.hasClass("tab-btn")&&e.addClass("active").siblings().removeClass("active").closest(".tabs").find(".tab-content").removeClass("active").eq(e.index()).addClass("active"),e.hasClass("catalog__product-title")&&(e.toggleClass("active"),e.next().slideToggle(),e.parent().siblings().find(".catalog__product-title").removeClass("active").next().slideUp(),$(".catalog__side-btn").removeClass("active"),$(".catalog__side-btn").eq(e.parent().index()).addClass("active"),$(".catalog__product").removeClass("active"),e.parent().addClass("active")),e.hasClass("products__sidebar-btn")&&(e.toggleClass("active"),e.next().toggleClass("active"),e.parent().siblings().find(".products__sidebar-btn").removeClass("active").next().removeClass("active")),(e.hasClass("products__filter")||e.hasClass("products__sidebar-close")||!e[0].closest(".products__sidebar")&&$(".products__sidebar").hasClass("active"))&&$(".products__sidebar").toggleClass("active"),e.hasClass("search__btn")&&(e.addClass("active"),e.next().addClass("open"),setTimeout((()=>{e.next().find("input")[0].focus()}),300)),e[0].closest(".product__counter")){let t=e.closest(".product__counter"),a=t.find(".product__counter-value"),s=t.find(".product__counter-btn.decrement"),n=t.find(".product__counter-btn.increment");if(e[0]==s[0]){if(+a.text()<=1)return void a.text(1);a.text(+a.text()-1)}e[0]==n[0]&&a.text(+a.text()+1)}if(e.hasClass("arrow-top-btn"))return $("html, body").animate({scrollTop:0},300),!1;e.hasClass("cart__delete")&&(e.closest(".cart__order").remove(),a()),e.hasClass("cart-clear")&&($(".cart__order").remove(),a()),e.hasClass("cart-clear-selected")&&($(".cart__order").each((function(){$(this).find(".checkbox__input")[0].checked&&$(this).remove()})),a())})),$(".search__form-input").on("blur",(function(){$(".search__btn").removeClass("active"),$(".search__btn").next().removeClass("open")})),$(window).on("scroll",(function(t){scrollY<2*document.documentElement.clientHeight?$(".arrow-top-btn").addClass("hidden"):$(".arrow-top-btn").removeClass("hidden")})),$('input[type="tel"]').length>0&&$('input[type="tel"]').each((function(t,e){const a=intlTelInput(e,{utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/js/utils.js",initialCountry:"ru",onlyCountries:["AM","AZ","BY","GE","KZ","KG","MD","RU","TJ","TM","UZ"],preferredCountries:["ru"],autoPlaceholder:!1});function s(){const t=n("9"),a=n();$(e).inputmask("remove"),$(e).inputmask({mask:t,showMaskOnHover:!1}),$(e).attr("placeholder",a),$(e).on("blur",(function(){$(e).attr("placeholder",a)}))}function n(t="_"){const e=a.getSelectedCountryData();return`+${"9"==t?e.dialCode.replace(/./g,"\\$&"):e.dialCode}${intlTelInputUtils.getExampleNumber(e.iso2,!1,intlTelInputUtils.numberFormat.INTERNATIONAL).replace(/^\+\d{1,3}/,"").replace(/\d/g,t)}`}$(e).on("countrychange",(function(){s()})),a.promise.then((function(){s()}))})),$(".promo__slider").length&&new Swiper(".promo__slider",{slidesPerView:1,navigation:{nextEl:".promo__next",prevEl:".promo__prev"},pagination:{el:".promo__pagination",clickable:!0}}),$(".about__slider").length&&new Swiper(".about__slider",{slidesPerView:1,navigation:{nextEl:".about__next",prevEl:".about__prev"}})}))})();